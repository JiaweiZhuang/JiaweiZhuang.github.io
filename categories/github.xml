<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Jiawei Zhuang (Posts about GitHub)</title><link>https://jiaweizhuang.github.io/</link><description></description><atom:link href="https://jiaweizhuang.github.io/categories/github.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2019 &lt;a href="mailto:jiaweizhuang@g.harvard.edu"&gt;Jiawei Zhuang&lt;/a&gt; </copyright><lastBuildDate>Mon, 04 Mar 2019 21:41:51 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Personal website with Jupyter support using Nikola and GitHub page</title><link>https://jiaweizhuang.github.io/blog/nikola-guide/</link><dc:creator>Jiawei Zhuang</dc:creator><description>&lt;div&gt;&lt;p&gt;I decide to build my new website and occasionally post blogs on research, software, and computing.&lt;/p&gt;
&lt;p&gt;For the blogging tool, basic requirements are:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;It must be a &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Static_web_page"&gt;static site&lt;/a&gt; that can be easily version-controlled on GitHub. So, not WordPress.&lt;/li&gt;
&lt;li&gt;I'd like the framework to be written in Python. So, not Jekyll.&lt;/li&gt;
&lt;li&gt;It should support Jupyter notebook format, so I can easily post computing &amp;amp; data analysis results.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The options come down to &lt;a class="reference external" href="https://github.com/getpelican/pelican"&gt;Pelican&lt;/a&gt; (the most popular one), &lt;a class="reference external" href="https://github.com/vladris/tinkerer"&gt;Tinkerer&lt;/a&gt; (&lt;a class="reference external" href="https://github.com/sphinx-doc/sphinx"&gt;Sphinx&lt;/a&gt;-extended-for-blog), and &lt;a class="reference external" href="https://github.com/getnikola/nikola"&gt;Nikola&lt;/a&gt;. I finally settle down on Nikola because it is super intuitive, has a clear and user-friendly documentation, and supports Jupyter natively. It takes me like 10 minutes to set up the desired website layout. Other tools are also very powerful but it takes me longer to get the configuration right.&lt;/p&gt;
&lt;p&gt;This post records my setup steps, to help others and the forgetful future me. Building such a website only requires basic knowledge in:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Git and GitHub&lt;/li&gt;
&lt;li&gt;Python&lt;/li&gt;
&lt;li&gt;Markdown (works fine) or reStructuredText (preferred)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I assume no knowledge in Web front-end stuff (HTML/CSS/JS). This should be typical for many computational &amp;amp; data science students.&lt;/p&gt;
&lt;div class="contents topic" id="contents"&gt;
&lt;p class="topic-title first"&gt;Contents&lt;/p&gt;
&lt;ul class="auto-toc simple"&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#related-posts" id="id1"&gt;1   Related posts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#installation-and-initialization" id="id2"&gt;2   Installation and initialization&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#github-deployment-and-version-control" id="id3"&gt;3   Github deployment and version control&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#change-theme" id="id4"&gt;4   Change theme&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#set-non-blog-layout" id="id5"&gt;5   Set non-blog layout&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#enable-jupyter-notebook-format" id="id6"&gt;6   Enable Jupyter notebook format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#add-social-media-button" id="id7"&gt;7   Add social media button&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#various-tweaks" id="id8"&gt;8   Various tweaks&lt;/a&gt;&lt;ul class="auto-toc"&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#add-table-of-content" id="id9"&gt;8.1   Add table of content&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#tweak-archive-format" id="id10"&gt;8.2   Tweak Archive format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="https://jiaweizhuang.github.io/blog/nikola-guide/#enable-comment-system" id="id11"&gt;8.3   Enable comment system&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="related-posts"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id1"&gt;1   Related posts&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Just by Googling you can find tons of tutorials on this. Particularly good ones are:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.jaakkoluttinen.fi/blog/how-to-blog-with-jupyter-ipython-notebook-and-nikola/"&gt;http://www.jaakkoluttinen.fi/blog/how-to-blog-with-jupyter-ipython-notebook-and-nikola/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://louistiao.me/posts/how-i-customized-my-nikola-powered-site/"&gt;http://louistiao.me/posts/how-i-customized-my-nikola-powered-site/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://post2web.github.io/posts/jupyter-blogging/"&gt;https://post2web.github.io/posts/jupyter-blogging/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://sampathweb.com/posts/blogging-made-easy.html"&gt;http://sampathweb.com/posts/blogging-made-easy.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;However this post is still useful because I:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;use nikola v8.0.1 as of Feb 2019. Many early tweaks are not necessary now.&lt;/li&gt;
&lt;li&gt;focus on personal website (with additional pages like &lt;tt class="docutils literal"&gt;Bio&lt;/tt&gt;), not only a blog.&lt;/li&gt;
&lt;li&gt;add additional notes on GitHub deployment and version control.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="installation-and-initialization"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id2"&gt;2   Installation and initialization&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The &lt;a class="reference external" href="https://getnikola.com/getting-started.html"&gt;official getting-started guide&lt;/a&gt; explains this well. I just summarize the steps here.&lt;/p&gt;
&lt;p&gt;I come from the scientific side of Python, so use Conda to create a new environment:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
conda env create -n blog python=3.6
source activate blog
pip install Nikola[extras]
&lt;/pre&gt;
&lt;p&gt;Making the first demo site is as simple as&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Run &lt;tt class="docutils literal"&gt;nikola init&lt;/tt&gt; in a new folder, with default settings.&lt;/li&gt;
&lt;li&gt;Then run &lt;tt class="docutils literal"&gt;nikola auto&lt;/tt&gt; to build the page and start a local server for testing.&lt;/li&gt;
&lt;li&gt;Visit &lt;tt class="docutils literal"&gt;localhost:8000&lt;/tt&gt; in the web browser.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Adding a new blog post is as simple as:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Run &lt;tt class="docutils literal"&gt;nikola new_post&lt;/tt&gt; (defaults to reStructuredText format, add &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-f&lt;/span&gt; markdown&lt;/tt&gt; for &lt;tt class="docutils literal"&gt;*.md&lt;/tt&gt; format)&lt;/li&gt;
&lt;li&gt;Write blog contents in the newly generated file (&lt;tt class="docutils literal"&gt;*.rst&lt;/tt&gt; or &lt;tt class="docutils literal"&gt;*.md&lt;/tt&gt;) in the &lt;tt class="docutils literal"&gt;posts/&lt;/tt&gt; directory.&lt;/li&gt;
&lt;li&gt;Rerun &lt;tt class="docutils literal"&gt;nikola auto&lt;/tt&gt;. You can also keep this command running so new contents will be automatically updated.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All configurations are managed by a single &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt; file, which is extremely neat.&lt;/p&gt;
&lt;p&gt;Before adding any real contents, you should first configure GitHub deployment, layout, themes, etc.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="github-deployment-and-version-control"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id3"&gt;3   Github deployment and version control&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There is an &lt;a class="reference external" href="https://getnikola.com/handbook.html#deploying-to-github"&gt;official deployment guide&lt;/a&gt; but I feel that more explanation is necessary.&lt;/p&gt;
&lt;p&gt;Most posts mention deployment at the final step, but I think it is good to do so at the very beginning.&lt;/p&gt;
&lt;p&gt;We will use &lt;a class="reference external" href="https://pages.github.com/"&gt;GitHub pages&lt;/a&gt; to host the website freely. Any GitHub repo can have its own GitHub page, but we will use the special one called &lt;a class="reference external" href="https://help.github.com/articles/user-organization-and-project-pages/#user-and-organization-pages-sites"&gt;user page&lt;/a&gt; that only works for a repo named &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;[username].github.io&lt;/span&gt;&lt;/tt&gt;, where &lt;tt class="docutils literal"&gt;[username]&lt;/tt&gt; is your GitHub account name (mine is &lt;tt class="docutils literal"&gt;jiaweizhuang&lt;/tt&gt;). The website URL will be &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;https://[username].github.io/&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;You will need to:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Create a new GitHub repo named &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;[username].github.io&lt;/span&gt;&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;Initialize a Git repo (&lt;tt class="docutils literal"&gt;git init&lt;/tt&gt;) in your Nikola project directory.&lt;/li&gt;
&lt;li&gt;Link to your remote GitHub repo (&lt;tt class="docutils literal"&gt;git remote add origin &lt;span class="pre"&gt;https://github.com/[username]/[username].github.io.git&lt;/span&gt;&lt;/tt&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So far all standard git practices. The non-standard thing is that you shouldn't manually commit anything to the &lt;tt class="docutils literal"&gt;master&lt;/tt&gt; branch. The &lt;tt class="docutils literal"&gt;master&lt;/tt&gt; branch is used for storing HTML files to display on the web. It should be handled automatically by the command &lt;tt class="docutils literal"&gt;nikola github_deploy&lt;/tt&gt;. To version control your source files (&lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;*.rst&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;*.md&lt;/tt&gt;), you should create a new branch called &lt;tt class="docutils literal"&gt;src&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
git checkout -b src
&lt;/pre&gt;
&lt;p&gt;My &lt;tt class="docutils literal"&gt;.gitignore&lt;/tt&gt; is:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
cache
.doit.db*
__pycache__
output
.ipynb_checkpoints
.DS_Store
&lt;/pre&gt;
&lt;p&gt;You can manually commit to this &lt;tt class="docutils literal"&gt;src&lt;/tt&gt; branch and push to GitHub.&lt;/p&gt;
&lt;p&gt;In &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;, double-check that branch names are correct:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_37b7243a845f4bacab844e9ecf27d714-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;GITHUB_SOURCE_BRANCH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'src'&lt;/span&gt;
&lt;a name="rest_code_37b7243a845f4bacab844e9ecf27d714-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;GITHUB_DEPLOY_BRANCH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'master'&lt;/span&gt;
&lt;a name="rest_code_37b7243a845f4bacab844e9ecf27d714-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;GITHUB_REMOTE_NAME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'origin'&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;I also recommend setting:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_cfbddc2abf0c42818b85f8efe1a56af5-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;GITHUB_COMMIT_SOURCE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;So that the &lt;tt class="docutils literal"&gt;nikola github_deploy&lt;/tt&gt; command below won't touch your &lt;tt class="docutils literal"&gt;src&lt;/tt&gt; branch.&lt;/p&gt;
&lt;p&gt;To deploy the content on &lt;tt class="docutils literal"&gt;master&lt;/tt&gt;, run:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
nikola github_deploy
&lt;/pre&gt;
&lt;p&gt;This builds the HTML files, commits to the &lt;tt class="docutils literal"&gt;master&lt;/tt&gt; branch, and pushes to GitHub. The actual website &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;https://[username].github.io/&lt;/span&gt;&lt;/tt&gt; will be updated in a few seconds.&lt;/p&gt;
&lt;p&gt;You end up having:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;A well version-controlled &lt;tt class="docutils literal"&gt;src&lt;/tt&gt; branch, with only source files. You can add meaningful commit messages like for other code projects.&lt;/li&gt;
&lt;li&gt;An automatically generated &lt;tt class="docutils literal"&gt;master&lt;/tt&gt; branch, with messy html files which you never need to directly look at. It doesn't have meaningful commit messages, and the commit history is kind of a mess (diff between HTML files).&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Remember that &lt;tt class="docutils literal"&gt;nikola github_deploy&lt;/tt&gt; will use all the files in the current directory, not the most recent commit in the &lt;tt class="docutils literal"&gt;src&lt;/tt&gt; branch! &lt;tt class="docutils literal"&gt;master&lt;/tt&gt; and the &lt;tt class="docutils literal"&gt;src&lt;/tt&gt; are not necessarily synchronized if you set &lt;tt class="docutils literal"&gt;GITHUB_COMMIT_SOURCE = False&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;For all the tweaks later, you can incrementally update the GitHub repo and the website, by manually pushing to &lt;tt class="docutils literal"&gt;src&lt;/tt&gt; and using &lt;tt class="docutils literal"&gt;nikola github_deploy&lt;/tt&gt; to push to &lt;tt class="docutils literal"&gt;master&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="change-theme"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id4"&gt;4   Change theme&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The default theme looks more like a blog than a personal website. Twitter's &lt;a class="reference external" href="https://getbootstrap.com/"&gt;Bootstrap&lt;/a&gt; is an excellent theme and is &lt;a class="reference external" href="https://themes.getnikola.com/v8/bootstrap4/"&gt;built into Nikola&lt;/a&gt;.  In &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;, set:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_6ad610b9aadb4b458bd6b38d55be2068-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;THEME&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"bootstrap4"&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;The theme can be further tweaked by &lt;a class="reference external" href="https://bootswatch.com/"&gt;Bootswatch&lt;/a&gt; but I find the default theme perfect for me :)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="set-non-blog-layout"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id5"&gt;5   Set non-blog layout&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://getnikola.com/creating-a-site-not-a-blog-with-nikola.html"&gt;Official non-blog guide&lt;/a&gt; explains this well. I just summarize the steps here.&lt;/p&gt;
&lt;p&gt;Nikola defines two types of contents:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;"Posts" generated by &lt;tt class="docutils literal"&gt;nikola new_post&lt;/tt&gt;. It is just the blog post and will be automatically added to the main web page whenever a new post is created.&lt;/li&gt;
&lt;li&gt;"Pages" generated by &lt;tt class="docutils literal"&gt;nikola new_page&lt;/tt&gt;. It is a standalone page that will not be automatically added to the main site. This is the building block for a non-blog site.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;, bring Pages to root level:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;POSTS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-2"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.rst"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-3"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.md"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-4"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.txt"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-5"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-6"&gt;&lt;/a&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-7"&gt;&lt;/a&gt;&lt;span class="n"&gt;PAGES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-8"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.rst"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"page.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;  &lt;span class="c1"&gt;# notice the second argument&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-9"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.md"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"page.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-10"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.txt"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"page.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-11"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"page.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-12"&gt;&lt;/a&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-13"&gt;&lt;/a&gt;
&lt;a name="rest_code_311abdbb681445a49e873adcc57ca73a-14"&gt;&lt;/a&gt;&lt;span class="n"&gt;INDEX_PATH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Generate your new index page (the entry of you website):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ nikola new_page
Creating New Page
-----------------

Title: index
&lt;/pre&gt;
&lt;p&gt;To add more pages to the top navigation bar:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ nikola new_page
Creating New Page
-----------------

Title: Bio
&lt;/pre&gt;
&lt;p&gt;And then add it to &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_9b405dccd48841ac96005e8fbe5d409a-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;NAVIGATION_LINKS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_9b405dccd48841ac96005e8fbe5d409a-2"&gt;&lt;/a&gt;    &lt;span class="n"&gt;DEFAULT_LANG&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_9b405dccd48841ac96005e8fbe5d409a-3"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"/index.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Home"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_9b405dccd48841ac96005e8fbe5d409a-4"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"/bio/index.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Bio"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_9b405dccd48841ac96005e8fbe5d409a-5"&gt;&lt;/a&gt;        &lt;span class="o"&gt;...&lt;/span&gt;
&lt;a name="rest_code_9b405dccd48841ac96005e8fbe5d409a-6"&gt;&lt;/a&gt;    &lt;span class="p"&gt;),&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="enable-jupyter-notebook-format"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id6"&gt;6   Enable Jupyter notebook format&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Just add &lt;tt class="docutils literal"&gt;*.ipynb&lt;/tt&gt; as recognizable formats:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;POSTS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-2"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.rst"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-3"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.md"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-4"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.txt"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-5"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-6"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.ipynb"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"blog"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="c1"&gt;# new line&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-7"&gt;&lt;/a&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-8"&gt;&lt;/a&gt;&lt;span class="n"&gt;PAGES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-9"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.rst"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"page.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-10"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.md"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"page.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-11"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.txt"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"page.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-12"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"page.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-13"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.ipynb"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"page.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="c1"&gt;# new line&lt;/span&gt;
&lt;a name="rest_code_5963623cc21a46b5ad5fed2b07c51d38-14"&gt;&lt;/a&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;With the current version (v8), that's all you need to do!&lt;/p&gt;
&lt;p&gt;Create a new blog in notebook format:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ nikola new_post -f ipynb
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="add-social-media-button"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id7"&gt;7   Add social media button&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;You might want to add buttons for other sites like GitHub and Twitter, or any icons from &lt;a class="reference external" href="https://fontawesome.com/"&gt;Font Awesome&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Taken from &lt;a class="reference external" href="http://www.jaakkoluttinen.fi/blog/how-to-blog-with-jupyter-ipython-notebook-and-nikola/"&gt;this post by Jaakko Luttinen&lt;/a&gt;, the minimal example is (only one GitHub button):&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;EXTRA_HEAD_DATA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'&amp;lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"&amp;gt;'&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;CONTENT_FOOTER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-4"&gt;&lt;/a&gt;&lt;span class="s1"&gt;&amp;lt;div class="text-center"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-5"&gt;&lt;/a&gt;&lt;span class="s1"&gt;&amp;lt;p&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-6"&gt;&lt;/a&gt;&lt;span class="s1"&gt;&amp;lt;span class="fa-stack fa-2x"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-7"&gt;&lt;/a&gt;&lt;span class="s1"&gt;&amp;lt;a href="https://github.com/[username]"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-8"&gt;&lt;/a&gt;&lt;span class="s1"&gt;    &amp;lt;i class="fa fa-circle fa-stack-2x"&amp;gt;&amp;lt;/i&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-9"&gt;&lt;/a&gt;&lt;span class="s1"&gt;    &amp;lt;i class="fa fa-github fa-inverse fa-stack-1x"&amp;gt;&amp;lt;/i&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-10"&gt;&lt;/a&gt;&lt;span class="s1"&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-11"&gt;&lt;/a&gt;&lt;span class="s1"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-12"&gt;&lt;/a&gt;&lt;span class="s1"&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-13"&gt;&lt;/a&gt;&lt;span class="s1"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_ea0107e151534779aae532dcad38fec6-14"&gt;&lt;/a&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="various-tweaks"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id8"&gt;8   Various tweaks&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="add-table-of-content"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id9"&gt;8.1   Add table of content&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;For &lt;tt class="docutils literal"&gt;*.rst&lt;/tt&gt; posts, simple add:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.. contents::
&lt;/pre&gt;
&lt;p&gt;Or optionally with numbering:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.. contents::
.. section-numbering::
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="tweak-archive-format"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id10"&gt;8.2   Tweak Archive format&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To avoid grouping posts by years:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_6b3d8391f1f343f883ec7ecd9432ce7a-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;CREATE_SINGLE_ARCHIVE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;The creation time of each blog post is displayed down to minutes by default. Only showing the date seems enough:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_76071c940fe64cacb422c0867c705b96-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;DATE_FORMAT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'YYYY-MM-dd'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="enable-comment-system"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="https://jiaweizhuang.github.io/blog/nikola-guide/#id11"&gt;8.3   Enable comment system&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Because static sites do not have databases, you need to use a thiry-party comment system as documented on the &lt;a class="reference external" href="https://getnikola.com/handbook.html#comments"&gt;official doc&lt;/a&gt;. The steps are:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Sign up for an account on &lt;a class="reference external" href="https://disqus.com/"&gt;https://disqus.com/&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;On Disqus, select "Create a new site" (or visit &lt;a class="reference external" href="https://disqus.com/admin/create/"&gt;https://disqus.com/admin/create/&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;During configuration, take note on the "Shortname" you use. Other configs are not very important.&lt;/li&gt;
&lt;li&gt;At "Select a plan", choosing the basic free plan is enough.&lt;/li&gt;
&lt;li&gt;At "Select Platform", just skip the instructions. No need to insert the "Universal Code" manually, as it is built into Nikola. Keep all default and finish the configuration.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;, add your Disqus shortname:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_b69fd8845d30433ab1878e56f75dc48b-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;COMMENT_SYSTEM&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"disqus"&lt;/span&gt;
&lt;a name="rest_code_b69fd8845d30433ab1878e56f75dc48b-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;COMMENT_SYSTEM_ID&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"[disqus-shortname]"&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Deploy to GitHub and the comment system should be enabled.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>GitHub</category><category>Jupyter</category><category>Nikola</category><guid>https://jiaweizhuang.github.io/blog/nikola-guide/</guid><pubDate>Sun, 17 Feb 2019 23:23:21 GMT</pubDate></item></channel></rss>