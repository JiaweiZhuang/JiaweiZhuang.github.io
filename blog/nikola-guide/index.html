<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Personal Website with Jupyter Support using Nikola and GitHub Page | Jiawei Zhuang</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://jiaweizhuang.github.io/blog/nikola-guide/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">
<meta name="author" content="Jiawei Zhuang">
<link rel="next" href="../bokeh-in-nikola/" title="[Notebook] Testing Bokeh Interactive Plot on Nikola Sites" type="text/html">
<meta property="og:site_name" content="Jiawei Zhuang">
<meta property="og:title" content="Personal Website with Jupyter Support using Nikola and GitHub Page">
<meta property="og:url" content="https://jiaweizhuang.github.io/blog/nikola-guide/">
<meta property="og:description" content="I decide to build my new website and occasionally post blogs on research, software, and computing.
For the blogging tool, basic requirements are:

It must be a static site that can be easily version-c">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2019-02-17T18:23:21-05:00">
<meta property="article:tag" content="GitHub">
<meta property="article:tag" content="Jupyter">
<meta property="article:tag" content="Nikola">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="https://jiaweizhuang.github.io/">

            <span id="blog-title">Jiawei Zhuang</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../index.html" class="nav-link">Home</a>
                </li>
<li class="nav-item">
<a href="../../cv/index.html" class="nav-link">CV</a>
                </li>
<li class="nav-item">
<a href="../../software/index.html" class="nav-link">Software</a>
                </li>
<li class="nav-item">
<a href="../../archive.html" class="nav-link">Blog</a>
                </li>
<li class="nav-item">
<a href="../../categories/index.html" class="nav-link">Tags</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Personal Website with Jupyter Support using Nikola and GitHub Page</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Jiawei Zhuang
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2019-02-17T18:23:21-05:00" itemprop="datePublished" title="2019-02-17">2019-02-17</time></a>
            </p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/nikola-guide.html">Comments</a>


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>I decide to build my new website and occasionally post blogs on research, software, and computing.</p>
<p>For the blogging tool, basic requirements are:</p>
<ul class="simple">
<li><p>It must be a <a class="reference external" href="https://en.wikipedia.org/wiki/Static_web_page">static site</a> that can be easily version-controlled on GitHub. So, not WordPress.</p></li>
<li><p>I'd like the framework to be written in Python. So, not Jekyll.</p></li>
<li><p>It should support Jupyter notebook format, so I can easily post computing &amp; data analysis results.</p></li>
</ul>
<p>The options come down to <a class="reference external" href="https://github.com/getpelican/pelican">Pelican</a> (the most popular one), <a class="reference external" href="https://github.com/vladris/tinkerer">Tinkerer</a> (<a class="reference external" href="https://github.com/sphinx-doc/sphinx">Sphinx</a>-extended-for-blog), and <a class="reference external" href="https://github.com/getnikola/nikola">Nikola</a>. I finally settle down on Nikola because it is super intuitive, has a clear and user-friendly documentation, and supports Jupyter natively. It takes me like 10 minutes to set up the desired website layout. Other tools are also very powerful but it takes me longer to get the configuration right.</p>
<p>This post records my setup steps, to help others and the forgetful future me. Building such a website only requires basic knowledge in:</p>
<ul class="simple">
<li><p>Git and GitHub</p></li>
<li><p>Python</p></li>
<li><p>Markdown (works fine) or reStructuredText (preferred)</p></li>
</ul>
<p>I assume no knowledge in Web front-end stuff (HTML/CSS/JS). This should be typical for many computational &amp; data science students.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="auto-toc simple">
<li><p><a class="reference internal" href="#related-posts" id="id1"><span class="sectnum">1</span> Related posts</a></p></li>
<li><p><a class="reference internal" href="#installation-and-initialization" id="id2"><span class="sectnum">2</span> Installation and initialization</a></p></li>
<li><p><a class="reference internal" href="#github-deployment-and-version-control" id="id3"><span class="sectnum">3</span> Github deployment and version control</a></p></li>
<li><p><a class="reference internal" href="#change-theme" id="id4"><span class="sectnum">4</span> Change theme</a></p></li>
<li><p><a class="reference internal" href="#set-non-blog-layout" id="id5"><span class="sectnum">5</span> Set non-blog layout</a></p></li>
<li><p><a class="reference internal" href="#enable-jupyter-notebook-format" id="id6"><span class="sectnum">6</span> Enable Jupyter notebook format</a></p></li>
<li><p><a class="reference internal" href="#add-social-media-button" id="id7"><span class="sectnum">7</span> Add social media button</a></p></li>
<li>
<p><a class="reference internal" href="#various-tweaks" id="id8"><span class="sectnum">8</span> Various tweaks</a></p>
<ul class="auto-toc">
<li><p><a class="reference internal" href="#add-table-of-content" id="id9"><span class="sectnum">8.1</span> Add table of content</a></p></li>
<li><p><a class="reference internal" href="#tweak-archive-format" id="id10"><span class="sectnum">8.2</span> Tweak Archive format</a></p></li>
<li><p><a class="reference internal" href="#enable-comment-system" id="id11"><span class="sectnum">8.3</span> Enable comment system</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="related-posts">
<h2><a class="toc-backref" href="#id1"><span class="sectnum">1</span> Related posts</a></h2>
<p>Just by Googling you can find tons of tutorials on this. Particularly good ones are:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.jaakkoluttinen.fi/blog/how-to-blog-with-jupyter-ipython-notebook-and-nikola/">http://www.jaakkoluttinen.fi/blog/how-to-blog-with-jupyter-ipython-notebook-and-nikola/</a></p></li>
<li><p><a class="reference external" href="http://louistiao.me/posts/how-i-customized-my-nikola-powered-site/">http://louistiao.me/posts/how-i-customized-my-nikola-powered-site/</a></p></li>
<li><p><a class="reference external" href="https://post2web.github.io/posts/jupyter-blogging/">https://post2web.github.io/posts/jupyter-blogging/</a></p></li>
<li><p><a class="reference external" href="http://sampathweb.com/posts/blogging-made-easy.html">http://sampathweb.com/posts/blogging-made-easy.html</a></p></li>
</ul>
<p>However this post is still useful because I:</p>
<ul class="simple">
<li><p>use nikola v8.0.1 as of Feb 2019. Many early tweaks are not necessary now.</p></li>
<li><p>focus on personal website (with additional pages like <code class="docutils literal">Bio</code>), not only a blog.</p></li>
<li><p>add additional notes on GitHub deployment and version control.</p></li>
</ul>
</div>
<div class="section" id="installation-and-initialization">
<h2><a class="toc-backref" href="#id2"><span class="sectnum">2</span> Installation and initialization</a></h2>
<p>The <a class="reference external" href="https://getnikola.com/getting-started.html">official getting-started guide</a> explains this well. I just summarize the steps here.</p>
<p>I come from the scientific side of Python, so use Conda to create a new environment:</p>
<pre class="literal-block">conda create -n blog python=3.6
source activate blog
pip install Nikola[extras]</pre>
<p>Making the first demo site is as simple as</p>
<ul class="simple">
<li><p>Run <code class="docutils literal">nikola init</code> in a new folder, with default settings.</p></li>
<li><p>Then run <code class="docutils literal">nikola auto</code> to build the page and start a local server for testing.</p></li>
<li><p>Visit <code class="docutils literal">localhost:8000</code> in the web browser.</p></li>
</ul>
<p>Adding a new blog post is as simple as:</p>
<ul class="simple">
<li><p>Run <code class="docutils literal">nikola new_post</code> (defaults to reStructuredText format, add <code class="docutils literal"><span class="pre">-f</span> markdown</code> for <code class="docutils literal">*.md</code> format)</p></li>
<li><p>Write blog contents in the newly generated file (<code class="docutils literal">*.rst</code> or <code class="docutils literal">*.md</code>) in the <code class="docutils literal">posts/</code> directory.</p></li>
<li><p>Rerun <code class="docutils literal">nikola auto</code>. You can also keep this command running so new contents will be automatically updated.</p></li>
</ul>
<p>All configurations are managed by a single <code class="docutils literal">conf.py</code> file, which is extremely neat.</p>
<p>Before adding any real contents, you should first configure GitHub deployment, layout, themes, etc.</p>
</div>
<div class="section" id="github-deployment-and-version-control">
<h2><a class="toc-backref" href="#id3"><span class="sectnum">3</span> Github deployment and version control</a></h2>
<p>There is an <a class="reference external" href="https://getnikola.com/handbook.html#deploying-to-github">official deployment guide</a> but I feel that more explanation is necessary.</p>
<p>Most posts mention deployment at the final step, but I think it is good to do so at the very beginning.</p>
<p>We will use <a class="reference external" href="https://pages.github.com/">GitHub pages</a> to host the website freely. Any GitHub repo can have its own GitHub page, but we will use the special one called <a class="reference external" href="https://help.github.com/articles/user-organization-and-project-pages/#user-and-organization-pages-sites">user page</a> that only works for a repo named <code class="docutils literal"><span class="pre">[username].github.io</span></code>, where <code class="docutils literal">[username]</code> is your GitHub account name (mine is <code class="docutils literal">jiaweizhuang</code>). The website URL will be <code class="docutils literal"><span class="pre">https://[username].github.io/</span></code>.</p>
<p>You will need to:</p>
<ol class="arabic simple">
<li><p>Create a new GitHub repo named <code class="docutils literal"><span class="pre">[username].github.io</span></code>.</p></li>
<li><p>Initialize a Git repo (<code class="docutils literal">git init</code>) in your Nikola project directory.</p></li>
<li><p>Link to your remote GitHub repo (<code class="docutils literal">git remote add origin <span class="pre">https://github.com/[username]/[username].github.io.git</span></code>)</p></li>
</ol>
<p>So far all standard git practices. The non-standard thing is that you shouldn't manually commit anything to the <code class="docutils literal">master</code> branch. The <code class="docutils literal">master</code> branch is used for storing HTML files to display on the web. It should be handled automatically by the command <code class="docutils literal">nikola github_deploy</code>. To version control your source files (<code class="docutils literal">conf.py</code>, <code class="docutils literal">*.rst</code>, <code class="docutils literal">*.md</code>), you should create a new branch called <code class="docutils literal">src</code>:</p>
<pre class="literal-block">git checkout -b src</pre>
<p>My <code class="docutils literal">.gitignore</code> is:</p>
<pre class="literal-block">cache
.doit.db*
__pycache__
output
.ipynb_checkpoints
.DS_Store</pre>
<p>You can manually commit to this <code class="docutils literal">src</code> branch and push to GitHub.</p>
<p>In <code class="docutils literal">conf.py</code>, double-check that branch names are correct:</p>
<pre class="code python"><a name="rest_code_90ea7dfe77ac4bc0899e77d1459ddc24-1"></a><span class="n">GITHUB_SOURCE_BRANCH</span> <span class="o">=</span> <span class="s1">'src'</span>
<a name="rest_code_90ea7dfe77ac4bc0899e77d1459ddc24-2"></a><span class="n">GITHUB_DEPLOY_BRANCH</span> <span class="o">=</span> <span class="s1">'master'</span>
<a name="rest_code_90ea7dfe77ac4bc0899e77d1459ddc24-3"></a><span class="n">GITHUB_REMOTE_NAME</span> <span class="o">=</span> <span class="s1">'origin'</span>
</pre>
<p>I also recommend setting:</p>
<pre class="code python"><a name="rest_code_ab896ad00a61417c975a3fbb5d2219c4-1"></a><span class="n">GITHUB_COMMIT_SOURCE</span> <span class="o">=</span> <span class="kc">False</span>
</pre>
<p>So that the <code class="docutils literal">nikola github_deploy</code> command below won't touch your <code class="docutils literal">src</code> branch.</p>
<p>To deploy the content on <code class="docutils literal">master</code>, run:</p>
<pre class="literal-block">nikola github_deploy</pre>
<p>This builds the HTML files, commits to the <code class="docutils literal">master</code> branch, and pushes to GitHub. The actual website <code class="docutils literal"><span class="pre">https://[username].github.io/</span></code> will be updated in a few seconds.</p>
<p>You end up having:</p>
<ul class="simple">
<li><p>A well version-controlled <code class="docutils literal">src</code> branch, with only source files. You can add meaningful commit messages like for other code projects.</p></li>
<li><p>An automatically generated <code class="docutils literal">master</code> branch, with messy html files which you never need to directly look at. It doesn't have meaningful commit messages, and the commit history is kind of a mess (diff between HTML files).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Remember that <code class="docutils literal">nikola github_deploy</code> will use all the files in the current directory, not the most recent commit in the <code class="docutils literal">src</code> branch! <code class="docutils literal">master</code> and the <code class="docutils literal">src</code> are not necessarily synchronized if you set <code class="docutils literal">GITHUB_COMMIT_SOURCE = False</code>.</p>
</div>
<p>For all the tweaks later, you can incrementally update the GitHub repo and the website, by manually pushing to <code class="docutils literal">src</code> and using <code class="docutils literal">nikola github_deploy</code> to push to <code class="docutils literal">master</code>.</p>
</div>
<div class="section" id="change-theme">
<h2><a class="toc-backref" href="#id4"><span class="sectnum">4</span> Change theme</a></h2>
<p>The default theme looks more like a blog than a personal website. Twitter's <a class="reference external" href="https://getbootstrap.com/">Bootstrap</a> is an excellent theme and is <a class="reference external" href="https://themes.getnikola.com/v8/bootstrap4/">built into Nikola</a>.  In <code class="docutils literal">conf.py</code>, set:</p>
<pre class="code python"><a name="rest_code_a6a975abfba04fba83788ae067d186f9-1"></a><span class="n">THEME</span> <span class="o">=</span> <span class="s2">"bootstrap4"</span>
</pre>
<p>The theme can be further tweaked by <a class="reference external" href="https://bootswatch.com/">Bootswatch</a> but I find the default theme perfect for me :)</p>
</div>
<div class="section" id="set-non-blog-layout">
<h2><a class="toc-backref" href="#id5"><span class="sectnum">5</span> Set non-blog layout</a></h2>
<p><a class="reference external" href="https://getnikola.com/creating-a-site-not-a-blog-with-nikola.html">Official non-blog guide</a> explains this well. I just summarize the steps here.</p>
<p>Nikola defines two types of contents:</p>
<ul class="simple">
<li><p>"Posts" generated by <code class="docutils literal">nikola new_post</code>. It is just the blog post and will be automatically added to the main web page whenever a new post is created.</p></li>
<li><p>"Pages" generated by <code class="docutils literal">nikola new_page</code>. It is a standalone page that will not be automatically added to the main site. This is the building block for a non-blog site.</p></li>
</ul>
<p>In <code class="docutils literal">conf.py</code>, bring Pages to root level:</p>
<pre class="code python"><a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-1"></a><span class="n">POSTS</span> <span class="o">=</span> <span class="p">(</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-2"></a>    <span class="p">(</span><span class="s2">"posts/*.rst"</span><span class="p">,</span> <span class="s2">"blog"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-3"></a>    <span class="p">(</span><span class="s2">"posts/*.md"</span><span class="p">,</span> <span class="s2">"blog"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-4"></a>    <span class="p">(</span><span class="s2">"posts/*.txt"</span><span class="p">,</span> <span class="s2">"blog"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-5"></a>    <span class="p">(</span><span class="s2">"posts/*.html"</span><span class="p">,</span> <span class="s2">"blog"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-6"></a><span class="p">)</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-7"></a><span class="n">PAGES</span> <span class="o">=</span> <span class="p">(</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-8"></a>    <span class="p">(</span><span class="s2">"pages/*.rst"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>  <span class="c1"># notice the second argument</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-9"></a>    <span class="p">(</span><span class="s2">"pages/*.md"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-10"></a>    <span class="p">(</span><span class="s2">"pages/*.txt"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-11"></a>    <span class="p">(</span><span class="s2">"pages/*.html"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-12"></a><span class="p">)</span>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-13"></a>
<a name="rest_code_14f3650b2d6c4793a465bf16047b7d57-14"></a><span class="n">INDEX_PATH</span> <span class="o">=</span> <span class="s2">"blog"</span>
</pre>
<p>Generate your new index page (the entry of you website):</p>
<pre class="literal-block">$ nikola new_page
Creating New Page
-----------------

Title: index</pre>
<p>To add more pages to the top navigation bar:</p>
<pre class="literal-block">$ nikola new_page
Creating New Page
-----------------

Title: Bio</pre>
<p>And then add it to <code class="docutils literal">conf.py</code>:</p>
<pre class="code python"><a name="rest_code_8ad74cc794d845e8abfab90ff256a3fa-1"></a><span class="n">NAVIGATION_LINKS</span> <span class="o">=</span> <span class="p">{</span>
<a name="rest_code_8ad74cc794d845e8abfab90ff256a3fa-2"></a>    <span class="n">DEFAULT_LANG</span><span class="p">:</span> <span class="p">(</span>
<a name="rest_code_8ad74cc794d845e8abfab90ff256a3fa-3"></a>        <span class="p">(</span><span class="s2">"/index.html"</span><span class="p">,</span> <span class="s2">"Home"</span><span class="p">),</span>
<a name="rest_code_8ad74cc794d845e8abfab90ff256a3fa-4"></a>        <span class="p">(</span><span class="s2">"/bio/index.html"</span><span class="p">,</span> <span class="s2">"Bio"</span><span class="p">),</span>
<a name="rest_code_8ad74cc794d845e8abfab90ff256a3fa-5"></a>        <span class="o">...</span>
<a name="rest_code_8ad74cc794d845e8abfab90ff256a3fa-6"></a>    <span class="p">),</span>
</pre>
</div>
<div class="section" id="enable-jupyter-notebook-format">
<h2><a class="toc-backref" href="#id6"><span class="sectnum">6</span> Enable Jupyter notebook format</a></h2>
<p>Just add <code class="docutils literal">*.ipynb</code> as recognizable formats:</p>
<pre class="code python"><a name="rest_code_02d3cf62c29946ad97b664699354793d-1"></a><span class="n">POSTS</span> <span class="o">=</span> <span class="p">(</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-2"></a>    <span class="p">(</span><span class="s2">"posts/*.rst"</span><span class="p">,</span> <span class="s2">"blog"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-3"></a>    <span class="p">(</span><span class="s2">"posts/*.md"</span><span class="p">,</span> <span class="s2">"blog"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-4"></a>    <span class="p">(</span><span class="s2">"posts/*.txt"</span><span class="p">,</span> <span class="s2">"blog"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-5"></a>    <span class="p">(</span><span class="s2">"posts/*.html"</span><span class="p">,</span> <span class="s2">"blog"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-6"></a>    <span class="p">(</span><span class="s2">"posts/*.ipynb"</span><span class="p">,</span> <span class="s2">"blog"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span> <span class="c1"># new line</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-7"></a><span class="p">)</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-8"></a><span class="n">PAGES</span> <span class="o">=</span> <span class="p">(</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-9"></a>    <span class="p">(</span><span class="s2">"pages/*.rst"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-10"></a>    <span class="p">(</span><span class="s2">"pages/*.md"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-11"></a>    <span class="p">(</span><span class="s2">"pages/*.txt"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-12"></a>    <span class="p">(</span><span class="s2">"pages/*.html"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-13"></a>    <span class="p">(</span><span class="s2">"pages/*.ipynb"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span> <span class="c1"># new line</span>
<a name="rest_code_02d3cf62c29946ad97b664699354793d-14"></a><span class="p">)</span>
</pre>
<p>With the current version (v8), that's all you need to do!</p>
<p>Create a new blog in notebook format:</p>
<pre class="literal-block">$ nikola new_post -f ipynb</pre>
</div>
<div class="section" id="add-social-media-button">
<h2><a class="toc-backref" href="#id7"><span class="sectnum">7</span> Add social media button</a></h2>
<p>You might want to add buttons for other sites like GitHub and Twitter, or any icons from <a class="reference external" href="https://fontawesome.com/">Font Awesome</a>.</p>
<p>Taken from <a class="reference external" href="http://www.jaakkoluttinen.fi/blog/how-to-blog-with-jupyter-ipython-notebook-and-nikola/">this post by Jaakko Luttinen</a>, the minimal example is (only one GitHub button):</p>
<pre class="code python"><a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-1"></a><span class="n">EXTRA_HEAD_DATA</span> <span class="o">=</span> <span class="s1">'&lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"&gt;'</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-2"></a>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-3"></a><span class="n">CONTENT_FOOTER</span> <span class="o">=</span> <span class="s1">'''</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-4"></a><span class="s1">&lt;div class="text-center"&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-5"></a><span class="s1">&lt;p&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-6"></a><span class="s1">&lt;span class="fa-stack fa-2x"&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-7"></a><span class="s1">&lt;a href="https://github.com/[username]"&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-8"></a><span class="s1">    &lt;i class="fa fa-circle fa-stack-2x"&gt;&lt;/i&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-9"></a><span class="s1">    &lt;i class="fa fa-github fa-inverse fa-stack-1x"&gt;&lt;/i&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-10"></a><span class="s1">&lt;/a&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-11"></a><span class="s1">&lt;/span&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-12"></a><span class="s1">&lt;/p&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-13"></a><span class="s1">&lt;/div&gt;</span>
<a name="rest_code_9f6feea54284423b9f83cd14b7f5ba6c-14"></a><span class="s1">'''</span>
</pre>
</div>
<div class="section" id="various-tweaks">
<h2><a class="toc-backref" href="#id8"><span class="sectnum">8</span> Various tweaks</a></h2>
<div class="section" id="add-table-of-content">
<h3><a class="toc-backref" href="#id9"><span class="sectnum">8.1</span> Add table of content</a></h3>
<p>For <code class="docutils literal">*.rst</code> posts, simple add:</p>
<pre class="literal-block">.. contents::</pre>
<p>Or optionally with numbering:</p>
<pre class="literal-block">.. contents::
.. section-numbering::</pre>
</div>
<div class="section" id="tweak-archive-format">
<h3><a class="toc-backref" href="#id10"><span class="sectnum">8.2</span> Tweak Archive format</a></h3>
<p>To avoid grouping posts by years:</p>
<pre class="code python"><a name="rest_code_a5ec8c02e503441892aa61fb7531da36-1"></a><span class="n">CREATE_SINGLE_ARCHIVE</span> <span class="o">=</span> <span class="kc">True</span>
</pre>
<p>The creation time of each blog post is displayed down to minutes by default. Only showing the date seems enough:</p>
<pre class="code python"><a name="rest_code_96977b40f8b5452bbfd98203fe83ef88-1"></a><span class="n">DATE_FORMAT</span> <span class="o">=</span> <span class="s1">'YYYY-MM-dd'</span>
</pre>
</div>
<div class="section" id="enable-comment-system">
<h3><a class="toc-backref" href="#id11"><span class="sectnum">8.3</span> Enable comment system</a></h3>
<p>Because static sites do not have databases, you need to use a thiry-party comment system as documented on the <a class="reference external" href="https://getnikola.com/handbook.html#comments">official doc</a>. The steps are:</p>
<ol class="arabic simple">
<li><p>Sign up for an account on <a class="reference external" href="https://disqus.com/">https://disqus.com/</a>.</p></li>
<li><p>On Disqus, select "Create a new site" (or visit <a class="reference external" href="https://disqus.com/admin/create/">https://disqus.com/admin/create/</a>).</p></li>
<li><p>During configuration, take note on the "Shortname" you use. Other configs are not very important.</p></li>
<li><p>At "Select a plan", choosing the basic free plan is enough.</p></li>
<li><p>At "Select Platform", just skip the instructions. No need to insert the "Universal Code" manually, as it is built into Nikola. Keep all default and finish the configuration.</p></li>
</ol>
<p>In <code class="docutils literal">conf.py</code>, add your Disqus shortname:</p>
<pre class="code python"><a name="rest_code_483cd10774c843f8b42f2d8c682d5649-1"></a><span class="n">COMMENT_SYSTEM</span> <span class="o">=</span> <span class="s2">"disqus"</span>
<a name="rest_code_483cd10774c843f8b42f2d8c682d5649-2"></a><span class="n">COMMENT_SYSTEM_ID</span> <span class="o">=</span> <span class="s2">"[disqus-shortname]"</span>
</pre>
<p>Deploy to GitHub and the comment system should be enabled.</p>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/github/" rel="tag">GitHub</a></li>
            <li><a class="tag p-category" href="../../categories/jupyter/" rel="tag">Jupyter</a></li>
            <li><a class="tag p-category" href="../../categories/nikola/" rel="tag">Nikola</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="next">
                <a href="../bokeh-in-nikola/" rel="next" title="[Notebook] Testing Bokeh Interactive Plot on Nikola Sites">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="jiaweizhuang",
            disqus_url="https://jiaweizhuang.github.io/blog/nikola-guide/",
        disqus_title="Personal Website with Jupyter Support using Nikola and GitHub Page",
        disqus_identifier="cache/posts/nikola-guide.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="jiaweizhuang";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer"><div class="text-center">
<p>
<span class="fa-stack fa-2x">
  <a href="https://twitter.com/Jiawei_Zhuang_">
    <i class="fa fa-twitter-square fa-stack-2x"></i>
  </a>
</span>
<span class="fa-stack fa-2x">
  <a href="https://github.com/JiaweiZhuang">
    <i class="fa fa-github-square fa-stack-2x"></i>
  </a>
</span>
<span class="fa-stack fa-2x">
  <a href="https://scholar.google.com/citations?user=JhvZDvAAAAAJ">
    <i class="ai ai-google-scholar-square ai-2x"></i>
  </a>
</span>
<span class="fa-stack fa-2x">
  <a href="https://www.linkedin.com/in/jiaweizhuang">
    <i class="fa fa-square fa-stack-2x"></i>
    <i class="fa fa-linkedin fa-inverse fa-stack-1x"></i>
  </a>
</span>
<span class="fa-stack fa-2x">
  <a href="http://weibo.com/jiaweizhuang">
    <i class="fa fa-square fa-stack-2x"></i>
    <i class="fa fa-weibo fa-inverse fa-stack-1x"></i>
  </a>
</span>
<span class="fa-stack fa-2x">
  <a href="mailto:jiaweizhuang@g.harvard.edu">
    <i class="fa fa-square fa-stack-2x"></i>
    <i class="fa fa-envelope fa-inverse fa-stack-1x"></i>
  </a>
</span>
</p>
<p>
  Contents © 2020  Jiawei Zhuang
  —
  
  —
  Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a>
</p>
</div>

            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
